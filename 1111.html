<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>בדיקת הרשמה Supabase</title>
</head>
<body>
  <h1>בדיקת הרשמה פשוטה</h1>
  <button onclick="signup()">נסה להירשם</button>

  <script type="module">
    import { createClient } from 'https://esm.sh/@supabase/supabase-js'

    const supabase = createClient('https://tkkbpikghrivslcahwxc.supabase.co', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRra2JwaWtnaHJpdnNsY2Fod3hjIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0NTUyODUxMSwiZXhwIjoyMDYxMTA0NTExfQ.oqHZnYMIXu4ltVuFSIdwLX9CLX7v-yVQuaa1I_FyXeM');

    async function signup() {
      const { data, error } = await supabase.auth.signUp({
        email: 'testuser' + Math.floor(Math.random() * 10000) + '@test.com',
        password: 'Password123!',
        options: {
          data: {
            fullName: 'טסט בדיקה',
            role: 'admin'
          }
        }
      });

      if (error) {
        alert('שגיאה: ' + error.message);
        console.error(error);
      } else {
        alert('נרשמת בהצלחה! אנא אשר את המייל.');
        console.log(data);
      }
    }
  </script>
</body>
</html>
